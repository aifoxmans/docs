{"openapi":"3.0.1","info":{"title":"Jeepay支付网关Api接口文档","contact":{"name":"jeequan"},"license":{"name":"Apache 2.0","url":"https://www.jeequan.com"},"version":"1.0"},"servers":[{"url":"http://localhost:9216","description":"Generated server url"}],"paths":{"/api/pay/unifiedOrder":{"post":{"tags":["支付订单接口"],"summary":"统一下单","description":"商户业务系统通过统一下单接口发起支付收款订单，支付网关会根据商户配置的支付通道路由支付通道完成支付下单。支付网关根据不同的支付方式返回对应的支付参数，业务系统使用支付参数发起收款。","operationId":"unifiedOrder","requestBody":{"description":"统一下单请求参数","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedOrderRQ"}}},"required":true},"responses":{"200":{"description":"成功返回结果","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResUnifiedOrderRS"}}}}}}},"/api/pay/query":{"post":{"tags":["支付订单接口"],"summary":"查询订单","description":"商户通过该接口查询订单，支付网关会返回订单最新的数据。","operationId":"queryOrder","requestBody":{"description":"查询订单请求参数","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryPayOrderRQ"}}},"required":true},"responses":{"200":{"description":"成功返回结果","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResQueryPayOrderRS"}}}}}}},"/api/pay/close":{"post":{"tags":["支付订单接口"],"summary":"关闭订单","description":"商户通过该接口关闭订单，支付网关会对订单完成关闭处理。多数情况下可不处理,自行随到期时间关闭。","operationId":"closeOrder","requestBody":{"description":"关闭订单请求参数","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClosePayOrderRQ"}}},"required":true},"responses":{"200":{"description":"成功返回结果","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResClosePayOrderRS"}}}}}}}},"components":{"schemas":{"UnifiedOrderRQ":{"required":["amount","appId","body","currency","mchNo","mchOrderNo","reqTime","sign","signType","subject","version","wayCode"],"type":"object","properties":{"version":{"type":"string","description":"版本号","example":"1.0.1"},"signType":{"type":"string","description":"签名类型，目前只支持MD5方式","example":"MD5"},"sign":{"type":"string","description":"签名值，详见签名算法","example":"xxxxxx"},"reqTime":{"type":"string","description":"时间戳,13位时间戳","example":"1622016572190"},"mchNo":{"type":"string","description":"商户号","example":"M1234567890"},"appId":{"type":"string","description":"商户应用ID","example":"88808634c46ff1a7807888888"},"mchOrderNo":{"type":"string","description":"商户订单号","example":"mho1624005107281"},"wayCode":{"type":"string","description":"支付方式  如： QR_CASHIER、CB_COIN_ADDR等","example":"QR_CASHIER"},"amount":{"minimum":1,"type":"integer","description":"支付金额， 单位：分","format":"int64","example":100},"currency":{"type":"string","description":"货币代码","example":"USD"},"clientIp":{"type":"string","description":"客户端IP地址","example":"192.166.1.132"},"subject":{"type":"string","description":"商品标题","example":"商品标题"},"body":{"type":"string","description":"商品描述信息","example":"商品描述"},"notifyUrl":{"type":"string","description":"异步通知地址","example":"https://xxx/notify"},"returnUrl":{"type":"string","description":"跳转通知地址","example":"https://xxx/returnUrl"},"expiredTime":{"type":"integer","description":"订单失效时间, 单位：秒","format":"int32","example":3600},"channelExtra":{"type":"string","description":"特定渠道发起额外参数","example":"{\"authCode\":\"280812820366966512\"}"},"extParam":{"type":"string","description":"商户扩展参数","example":"{}"},"divisionMode":{"type":"integer","description":"分账模式： 0-该笔订单不允许分账, 1-支付成功按配置自动完成分账, 2-商户手动分账(解冻商户金额)","format":"int32","example":1},"channelUserId":{"type":"string"}}},"ApiResUnifiedOrderRS":{"type":"object","properties":{"code":{"title":"code","type":"integer","description":"业务响应码","format":"int32","example":200},"msg":{"title":"msg","type":"string","description":"业务响应信息","example":"成功"},"data":{"$ref":"#/components/schemas/UnifiedOrderRS"},"sign":{"title":"sign","type":"string","description":"签名值"}}},"ChannelRetMsg":{"type":"object","properties":{"channelState":{"type":"string","enum":["CONFIRM_SUCCESS","CONFIRM_FAIL","WAITING","UNKNOWN","API_RET_ERROR","SYS_ERROR"]},"channelOrderId":{"type":"string"},"channelUserId":{"type":"string"},"channelErrCode":{"type":"string"},"channelErrMsg":{"type":"string"},"channelAttach":{"type":"string"},"channelOriginResponse":{"type":"string"},"responseEntity":{"type":"string"},"needQuery":{"type":"boolean"}}},"UnifiedOrderRS":{"title":"data","required":["mchOrderNo","orderState","payDataType","payOrderId"],"type":"object","properties":{"payOrderId":{"type":"string","description":"支付订单号","example":"P202106181642329900002"},"mchOrderNo":{"type":"string","description":"商户订单号","example":"mho1624005752661"},"orderState":{"title":"订单状态","type":"integer","description":"支付订单状态 0-订单生成 1-支付中 2-支付成功 3-支付失败 4-已撤销 5-已退款 6-订单关闭","format":"int32","example":3},"payDataType":{"title":"支付参数类型","type":"string","description":"支付参数类型 payUrl-跳转链接的方式 codeUrl-二维码地址 codeImgUrl-二维码图片地址 none-空支付参数"},"payData":{"type":"string","description":"支付参数"},"errCode":{"type":"string","description":"渠道返回错误代码","example":"ACQ.PAYMENT_AUTH_CODE_INVALID"},"errMsg":{"type":"string","description":"渠道返回错误信息","example":"Business Failed"},"channelRetMsg":{"$ref":"#/components/schemas/ChannelRetMsg"}},"description":"数据对象"},"QueryPayOrderRQ":{"required":["appId","mchNo","mchOrderNo","payOrderId","reqTime","sign","signType","version"],"type":"object","properties":{"version":{"type":"string","description":"版本号","example":"1.0.1"},"signType":{"type":"string","description":"签名类型，目前只支持MD5方式","example":"MD5"},"sign":{"type":"string","description":"签名值，详见签名算法","example":"xxxxxx"},"reqTime":{"type":"string","description":"时间戳,13位时间戳","example":"1622016572190"},"mchNo":{"type":"string","description":"商户号","example":"M1234567890"},"appId":{"type":"string","description":"商户应用ID","example":"88808634c46ff1a7807888888"},"mchOrderNo":{"type":"string","description":"商户订单号","example":"20160427210604000490"},"payOrderId":{"title":"支付系统订单号","type":"string","description":"支付系统订单号, 支付中心生成的订单号，与mchOrderNo二者传一即可","example":"P202106181104177050002"}}},"ApiResQueryPayOrderRS":{"type":"object","properties":{"code":{"title":"code","type":"integer","description":"业务响应码","format":"int32","example":200},"msg":{"title":"msg","type":"string","description":"业务响应信息","example":"成功"},"data":{"$ref":"#/components/schemas/QueryPayOrderRS"},"sign":{"title":"sign","type":"string","description":"签名值"}}},"QueryPayOrderRS":{"title":"data","required":["amount","appId","body","createdAt","currency","ifCode","mchNo","mchOrderNo","payOrderId","state","subject","wayCode"],"type":"object","properties":{"payOrderId":{"type":"string","description":"支付订单号","example":"P202106181104177050002"},"mchNo":{"type":"string","description":"商户号","example":"M1623984572"},"appId":{"type":"string","description":"商户应用ID","example":"60cc09bce4b0f1c0b83761c9"},"mchOrderNo":{"title":"商户订单号","type":"string","description":"返回商户传入的订单号","example":"mho1623985457320"},"ifCode":{"type":"string","description":"支付接口代码","example":"cbcoinpay"},"wayCode":{"type":"string","description":"支付方式代码","example":"CB_COIN_ADDR"},"amount":{"type":"integer","description":"支付金额,单位分","format":"int64","example":2058},"currency":{"type":"string","description":"三位货币代码,美元:USD","example":"USD"},"state":{"title":"支付状态","type":"integer","description":"支付状态: 0-订单生成, 1-支付中, 2-支付成功, 3-支付失败, 4-已撤销, 5-已退款, 6-订单关闭","format":"int32","example":2},"clientIp":{"type":"string","description":"客户端IP","example":"192.166.1.132"},"subject":{"type":"string","description":"商品标题","example":"商品标题"},"body":{"type":"string","description":"商品描述信息","example":"商品描述"},"channelOrderNo":{"type":"string","description":"渠道订单号","example":"2021061822001423031419593035"},"errCode":{"type":"string","description":"渠道支付错误码"},"errMsg":{"type":"string","description":"渠道支付错误描述"},"extParam":{"type":"string","description":"商户扩展参数","example":"{}"},"successTime":{"type":"integer","description":"订单支付成功时间,13位时间戳","format":"int64","example":1623985459000},"createdAt":{"type":"integer","description":"创建时间,13位时间戳","format":"int64","example":1623985457705}},"description":"数据对象"},"ClosePayOrderRQ":{"required":["appId","mchNo","mchOrderNo","payOrderId","reqTime","sign","signType","version"],"type":"object","properties":{"version":{"type":"string","description":"版本号","example":"1.0.1"},"signType":{"type":"string","description":"签名类型，目前只支持MD5方式","example":"MD5"},"sign":{"type":"string","description":"签名值，详见签名算法","example":"xxxxxx"},"reqTime":{"type":"string","description":"时间戳,13位时间戳","example":"1622016572190"},"mchNo":{"type":"string","description":"商户号","example":"M1234567890"},"appId":{"type":"string","description":"商户应用ID","example":"88808634c46ff1a7807888888"},"mchOrderNo":{"type":"string","description":"商户订单号","example":"20160427210604000490"},"payOrderId":{"title":"支付系统订单号","type":"string","description":"支付中心生成的订单号，与mchOrderNo二者传一即可","example":"P202106181104177050002"}}},"ApiResClosePayOrderRS":{"type":"object","properties":{"code":{"title":"code","type":"integer","description":"业务响应码","format":"int32","example":200},"msg":{"title":"msg","type":"string","description":"业务响应信息","example":"成功"},"data":{"$ref":"#/components/schemas/ClosePayOrderRS"},"sign":{"title":"sign","type":"string","description":"签名值"}}},"ClosePayOrderRS":{"title":"data","type":"object","properties":{"channelRetMsg":{"$ref":"#/components/schemas/ChannelRetMsg"}},"description":"数据对象"}}},"x-openapi":{"x-setting":{"customCode":200,"language":"zh-CN","enableSwaggerModels":true,"swaggerModelName":"公共响应","enableReloadCacheParameter":false,"enableAfterScript":true,"enableDocumentManage":true,"enableVersion":false,"enableRequestCache":true,"enableFilterMultipartApis":false,"enableFilterMultipartApiMethodType":"POST","enableHost":false,"enableHostText":"","enableDynamicParameter":false,"enableDebug":true,"enableFooter":true,"enableFooterCustom":false,"enableSearch":true,"enableOpenApi":true,"enableHomeCustom":false,"enableGroup":true,"enableResponseCode":true},"x-markdownFiles":[]}}