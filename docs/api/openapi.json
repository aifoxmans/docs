{"openapi":"3.0.1","info":{"title":"Jeepay支付网关Api接口文档","contact":{"name":"jeequan"},"license":{"name":"Apache 2.0","url":"https://www.jeequan.com"},"version":"1.0"},"servers":[{"url":"http://localhost:9216","description":"Generated server url"}],"paths":{},"components":{},"x-openapi":{"x-setting":{"customCode":200,"language":"zh-CN","enableSwaggerModels":true,"swaggerModelName":"公共响应","enableReloadCacheParameter":false,"enableAfterScript":true,"enableDocumentManage":true,"enableVersion":false,"enableRequestCache":true,"enableFilterMultipartApis":false,"enableFilterMultipartApiMethodType":"POST","enableHost":false,"enableHostText":"","enableDynamicParameter":false,"enableDebug":true,"enableFooter":true,"enableFooterCustom":false,"enableSearch":true,"enableOpenApi":true,"enableHomeCustom":false,"enableGroup":true,"enableResponseCode":true},"x-markdownFiles":[{"group":"default","name":"API","children":[{"title":"接口规则","content":"# 接口规则\r\n\r\n## 协议规则\r\n传输方式：采用HTTP传输(生产环境建议HTTPS)   \r\n提交方式：`POST` 或 `GET`   \r\n内容类型：`application/json`   \r\n字符编码：`UTF-8`   \r\n签名算法：`MD5`   \r\n\r\n## 参数规范\r\n交易金额：默认为USD交易，单位为分，参数值不能带小数。   \r\n时间参数：所有涉及时间参数均使用精确到毫秒的13位数值，如：1622016572190。时间戳具体是指从格林尼治时间1970年01月01日00时00分00秒起至现在的毫秒数。\r\n\r\n## 签名算法\r\n`签名生成的通用步骤如下`\r\n\r\n***第一步：*** 设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串stringA。\r\n特别注意以下重要规则：   \r\n◆ 参数名ASCII码从小到大排序（字典序）；   \r\n◆ 如果参数的值为空不参与签名；   \r\n◆ 参数名区分大小写；   \r\n◆ 验证调用返回或支付中心主动通知签名时，传送的sign参数不参与签名，将生成的签名与该sign值作校验。   \r\n◆ 支付中心接口可能增加字段，验证签名时必须支持增加的扩展字段\r\n\r\n***第二步：*** 在stringA最后拼接上key`[即 StringA +\"&key=\" + 私钥 ]` 得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。\r\n\r\n如请求支付系统参数如下：\r\n```java\r\nMap signMap = new HashMap<>();\r\nsignMap.put(\"platId\", \"1000\");\r\nsignMap.put(\"mchOrderNo\", \"P0123456789101\");\r\nsignMap.put(\"amount\", \"10000\");\r\nsignMap.put(\"clientIp\", \"192.168.0.111\");\r\nsignMap.put(\"returnUrl\", \"https://www.baidu.com\");\r\nsignMap.put(\"notifyUrl\", \"https://www.baidu.com\");\r\nsignMap.put(\"reqTime\", \"20190723141000\");\r\nsignMap.put(\"version\", \"1.0\");\r\n```\r\n`待签名值`： \r\namount=10000&amp;clientIp=192.168.0.111&amp;mchOrderNo=P0123456789101&amp;notifyUrl=https://www.baidu.com&amp;platId=1000&amp;reqTime=20190723141000&amp;returnUrl=https://www.baidu.com&amp;version=1.0&amp;key=EWEFD123RGSRETYDFNGFGFGSHDFGH\r\n\r\n`签名结果`：4A5078DABBCE0D9C4E7668DACB96FF7A \r\n\r\n`最终请求支付系统参数`：amount=10000&amp;clientIp=192.168.0.111&amp;mchOrderNo=P0123456789101&amp;notifyUrl=https://www.baidu.com&amp;platId=1000&reqTime=20190723141000&amp;returnUrl=https://www.baidu.com&amp;version=1.0&amp;sign=4A5078DABBCE0D9C4E7668DACB96FF7A\r\n\r\n&gt; 运营管理平台可以管理商户的私钥\r\n\r\n`提示：`签名以及接口调用，请使用提供的sdk"},{"title":"支付接口","content":"# 支付接口\r\n\r\n## 统一下单\r\n\r\n商户业务系统通过统一下单接口发起支付收款订单，yipay支付网关会根据商户配置的支付通道路由支付通道完成支付下单。支付网关根据不同的支付方式返回对应的支付参数，业务系统使用支付参数发起收款。\r\n\r\n> 接口说明\r\n\r\n请求URL：https://xxx/api/pay/unifiedOrder\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值                              | 描述\r\n------- | -------| -------| -------|----------------------------------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953                   | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9         | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490             | 商户生成的订单号  \r\n支付方式 | wayCode | 是 | String(30) | QR_CASHIER                       | 支付方式,如收银台\r\n支付金额 | amount | 是 | int | 100                              | 支付金额,单位分  \r\n货币代码 | currency | 是 | String(3) | usd                              | 三位货币代码,美元USD  \r\n客户端IP | clientIp | 否 | String(32) | 210.73.10.148                    | 客户端IPV4地址  \r\n商品标题 | subject | 是 | String(64) | yipay商品标题测试                      | 商品标题  \r\n商品描述 | body | 是 | String(256) | yipay商品描述测试                      | 商品描述  \r\n异步通知地址 | notifyUrl | 否 | String(128) | https://xxx/notify.htm           | 支付结果异步回调URL,只有传了该值才会发起回调  \r\n跳转通知地址 | returnUrl | 否 | String(128) | https://xxx/return.htm           | 支付结果同步跳转通知URL\r\n失效时间 | expiredTime | 否 | int | 3600                             | 订单失效时间,单位秒,默认30分钟.订单在(创建时间+失效时间)后失效   \r\n渠道参数 | channelExtra | 否 | String(256 | {\"auth_code\", \"13920933111042\"}  | 特定渠道发起的额外参数,json格式字符串.详见渠道参数说明  \r\n扩展参数 | extParam | 否 | String(512) | 134586944573118714               | 商户扩展参数,回调时会原样返回  \r\n请求时间 | reqTime | 是 | long | 1622016572190                    | 请求接口时间,13位时间戳   \r\n接口版本 | version | 是 | String(3) | 1.0                              | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5                              | 签名类型，目前只支持MD5方式  \r\n\r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n  \"amount\": 8,\r\n  \"extParam\": \"\",\r\n  \"mchOrderNo\": \"mho1624005107281\",\r\n  \"subject\": \"商品标题\",\r\n  \"wayCode\": \"QR_CASHIER\",\r\n  \"sign\": \"84F606FA25A6EC4783BECC08D4FDC681\",\r\n  \"reqTime\": \"1624005107\",\r\n  \"body\": \"商品描述\",\r\n  \"version\": \"1.0\",\r\n  \"channelExtra\": \"{\\\"authCode\\\":\\\"280812820366966512\\\"}\",\r\n  \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n  \"clientIp\": \"192.166.1.132\",\r\n  \"notifyUrl\": \"https://xxx/notify\",\r\n  \"signType\": \"MD5\",\r\n  \"currency\": \"cny\",\r\n  \"returnUrl\": \"\",\r\n  \"mchNo\": \"M1623984572\",\r\n  \"divisionMode\": 1\r\n}\r\n```\r\n\r\n> 返回参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值                           | 描述\r\n------- | -------| -------| -------|-------------------------------| -------\r\n支付订单号 | payOrderId | 是 | String(30) | U12021022311124442600         | 返回支付系统订单号  \r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490          | 返回商户传入的订单号  \r\n订单状态 | orderState | 是 | int | 2                             | 支付订单状态<br>0-订单生成<br>1-支付中<br>2-支付成功<br>3-支付失败<br>4-已撤销<br>5-已退款<br>6-订单关闭  \r\n支付数据类型 | payDataType | 是 | String | payUrl                        | 支付参数类型<br>payUrl-跳转链接的方式<br>codeUrl-二维码地址<br>codeImgUrl-二维码图片地址<br>none-空支付参数 \r\n支付数据 | payData | 否 | String | payxxx                        | 发起支付用到的支付参数 \r\n渠道错误码 | errCode | 否 | String | ACQ.PAYMENT_AUTH_CODE_INVALID | 上游渠道返回的错误码\r\n渠道错误描述 | errMsg | 否 | String | Business Failed 失败            | 上游渠道返回的错误描述\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n  \"code\": 0,\r\n  \"data\": {\r\n    \"errCode\": \"ACQ.PAYMENT_AUTH_CODE_INVALID\",\r\n    \"errMsg\": \"Business Failed\",\r\n    \"mchOrderNo\": \"mho1624005752661\",\r\n    \"orderState\": 3,\r\n    \"payOrderId\": \"P202106181642329900002\"\r\n  },\r\n  \"msg\": \"SUCCESS\",\r\n  \"sign\": \"F4DA202C516D1F33A12F1E547C5004FD\"\r\n}\r\n```\r\n\r\n> 支付方式\r\n\r\nWayCode | 支付方式 \r\n------- | ------- \r\nQR_CASHIER | 收银台\r\nCB_COIN_ADDR | CB数币支付\r\nPP_PC | PayPal支付\r\n\r\n当 `wayCode=QR_CASHIER` 时，channelExtra可以传payDataType设置返回支付数据支付类型。此时payDataType可以为：codeUrl-二维码地址,codeImgUrl-二维码图片地址，不传payDataType默认返回codeUrl类型, channelExtra示例数据如：\r\n```json\r\n{\"payDataType\": \"codeImgUrl\"}\r\n```\r\n\r\n## 查询订单\r\n\r\n商户通过该接口查询订单，支付网关会返回订单最新的数据\r\n\r\n> 接口说明\r\n\r\n请求URL：https://xxx/api/pay/query\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号 \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n支付订单号 | payOrderId | 是 | String(30) | P20160427210604000490 | 支付中心生成的订单号，与mchOrderNo二者传一即可  \r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的订单号，与payOrderId二者传一即可  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳  \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式 \r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n  \"payOrderId\": \"P202106181104177050002\",\r\n  \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n  \"sign\": \"46940C58B2F3AE426B77A297ABF4D31E\",\r\n  \"signType\": \"MD5\",\r\n  \"reqTime\": \"1624006009\",\r\n  \"mchNo\": \"M1623984572\",\r\n  \"version\": \"1.0\"\r\n}\r\n```\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值                      | 描述\r\n------- | -------| -------| -------|--------------------------| -------\r\n支付订单号 | payOrderId | 是 | String(30) | P12021022311124442600    | 返回支付系统订单号\r\n商户号 | mchNo | 是 | String(30) | M1621873433953           | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490     | 返回商户传入的订单号  \r\n支付接口 | ifCode | 是 | String(30) | cbcoinpay                | 支付接口编码   \r\n支付方式 | wayCode | 是 | String(30) | CB_COIN_ADDR             | 支付方式,如CB_COIN_ADDR\r\n支付金额 | amount | 是 | int | 100                      | 支付金额,单位分  \r\n货币代码 | currency | 是 | String(3) | usd                      | 三位货币代码,美元:USD  \r\n订单状态 | state | 是 | int | 2                        | 支付订单状态<br>0-订单生成<br>1-支付中<br>2-支付成功<br>3-支付失败<br>4-已撤销<br>5-已退款<br>6-订单关闭  \r\n客户端IP | clientIp | 否 | String(32) | 210.73.10.148            | 客户端IPV4地址  \r\n商品标题 | subject | 是 | String(64) | yipay商品标题测试              | 商品标题  \r\n商品描述 | body | 是 | String(256) | yipay商品描述测试              | 商品描述  \r\n渠道订单号 | channelOrderNo | 否 | String | 20160427210604000490     | 对应渠道的订单号  \r\n渠道错误码 | errCode | 否 | String | 1002                     | 渠道下单返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 业务异常错误                   | 渠道下单返回错误描述\r\n扩展参数 | extParam | 否 | String(512) | 134586944573118714       | 商户扩展参数,回调时会原样返回  \r\n创建时间 | createdAt | 是 | long | 1622016572190            | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190            | 订单支付成功时间,13位时间戳  \r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n  \"code\": 0,\r\n  \"data\": {\r\n    \"amount\": 58,\r\n    \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n    \"body\": \"商品描述\",\r\n    \"channelOrderNo\": \"2021061822001423031419593035\",\r\n    \"clientIp\": \"192.166.1.132\",\r\n    \"createdAt\": 1623985457705,\r\n    \"currency\": \"cny\",\r\n    \"extParam\": \"\",\r\n    \"ifCode\": \"alipay\",\r\n    \"mchNo\": \"M1623984572\",\r\n    \"mchOrderNo\": \"mho1623985457320\",\r\n    \"payOrderId\": \"P202106181104177050002\",\r\n    \"state\": 2,\r\n    \"subject\": \"商品标题\",\r\n    \"successTime\": 1623985459000,\r\n    \"wayCode\": \"ALI_BAR\"\r\n  },\r\n  \"msg\": \"SUCCESS\",\r\n  \"sign\": \"9548145EA12D0CD8C1628BCF44E19E0D\"\r\n}\r\n```\r\n\r\n## 关闭订单\r\n\r\n商户通过该接口关闭订单，支付网关会对订单完成关闭处理。多数情况下可不处理,自行随到期时间关闭\r\n\r\n> 接口说明\r\n\r\n请求URL：https://xxx/api/pay/close\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号 \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n支付订单号 | payOrderId | 是 | String(30) | P20160427210604000490 | 支付中心生成的订单号，与mchOrderNo二者传一即可  \r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的订单号，与payOrderId二者传一即可  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳  \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式 \r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n  \"payOrderId\": \"P202106181104177050002\",\r\n  \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n  \"sign\": \"46940C58B2F3AE426B77A297ABF4D31E\",\r\n  \"signType\": \"MD5\",\r\n  \"reqTime\": \"1624006009\",\r\n  \"mchNo\": \"M1623984572\",\r\n  \"version\": \"1.0\"\r\n}\r\n```\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道关单返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 关闭异常 | 渠道关单返回错误描述\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n  \"code\": 0,\r\n  \"data\": {\r\n    \"errCode\": '',\r\n    \"errMsg\": ''\r\n  },\r\n  \"msg\": \"SUCCESS\",\r\n  \"sign\": \"9548145EA12D0CD8C1628BCF44E19E0D\"\r\n}\r\n```\r\n\r\n## 支付通知\r\n\r\n当订单支付成功时，支付网关会向商户系统发起回调通知。如果商户系统没有正确返回，支付网关会延迟再次通知。\r\n\r\n> 接口说明\r\n\r\n请求URL：该链接是通过统一下单接口提交的参数notifyUrl设置，如果无法访问链接，商户系统将无法接收到支付中心的通知。\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/x-www-form-urlencoded`\r\n\r\n> 通知参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值                              | 描述\r\n------- | -------| -------| -------|----------------------------------| -------\r\n支付订单号 | payOrderId | 是 | String(30) | P12021022311124442600            | 返回支付系统订单号\r\n商户号 | mchNo | 是 | String(30) | M1621873433953                   | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9         | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490             | 返回商户传入的订单号  \r\n支付接口 | ifCode | 是 | String(30) | cbcoinpay                        | 支付接口编码   \r\n支付方式 | wayCode | 是 | String(30) | CB_COIN_ADDR                     | 支付方式,CB_COIN_ADDR   \r\n支付金额 | amount | 是 | int | 100                              | 支付金额,单位分  \r\n货币代码 | currency | 是 | String(3) | USD                              | 三位货币代码,美元:USD  \r\n订单状态 | state | 是 | int | 2                                | 支付订单状态<br>0-订单生成<br>1-支付中<br>2-支付成功<br>3-支付失败<br>4-已撤销<br>5-已退款<br>6-订单关闭  \r\n客户端IP | clientIp | 否 | String(32) | 210.73.10.148                    | 客户端IPV4地址  \r\n商品标题 | subject | 是 | String(64) | yipay商品标题测试                      | 商品标题  \r\n商品描述 | body | 是 | String(256) | yipay商品描述测试                      | 商品描述  \r\n渠道订单号 | channelOrderNo | 否 | String | 20160427210604000490             | 对应渠道的订单号  \r\n渠道错误码 | errCode | 否 | String | 1002                             | 渠道下单返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 134586944573118714               | 渠道下单返回错误描述\r\n扩展参数 | extParam | 否 | String(512) | 134586944573118714               | 商户扩展参数\r\n创建时间 | createdAt | 是 | long | 1622016572190                    | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190                    | 订单支付成功时间,13位时间戳  \r\n通知请求时间 | reqTime | 是 | String(30) | 1622016572190                    | 通知请求时间，,13位时间戳  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n\r\n&gt; 返回结果\r\n\r\n业务系统处理后同步返回给支付中心，返回字符串 success 则表示成功，返回非success则表示处理失败，支付中心会再次通知业务系统。（通知频率为0/30/60/90/120/150,单位：秒）\r\n\r\n`注意：返回的字符串必须是小写，且前后不能有空格和换行符。`\r\n\r\n`通知示例数据`\r\n\r\n```json\r\n{\r\n    \"amount\": 5,\r\n    \"body\": \"商品描述\",\r\n    \"clientIp\": \"192.166.1.132\",\r\n    \"createdAt\": \"1622016572190\",\r\n    \"currency\": \"USD\",\r\n    \"extParam\": \"\",\r\n    \"ifCode\": \"cbcoinpay\",\r\n    \"mchNo\": \"M1621873433953\",\r\n    \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n    \"mchOrderNo\": \"mho1621934803068\",\r\n    \"payOrderId\": \"20210525172643357010\",\r\n    \"state\": 3,\r\n    \"subject\": \"商品标题\",\r\n    \"wayCode\": \"CB_COIN_ADDR\",\r\n    \"sign\": \"C380BEC2BFD727A4B6845133519F3AD6\"\r\n}\r\n```\r\n\r\n## 返回码\r\n\r\ncode | 描述 \r\n------- | -------\r\n0 | 成功 \r\n9999 | 异常，具体错误详见msg字段"},{"title":"退款接口","content":"# 退款接口\r\n\r\n## 统一退款\r\n\r\n商户业务系统通过统一退款接口发起退款请求，Jeepay支付网关会根据商户发起的支付订单号，找到对应到支付通道发起退款。\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/refund/refundOrder\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n支付订单号 | payOrderId | 是 | String(30) | P20160427210604000490 | 支付中心生成的订单号，与mchOrderNo二者传一即可  \r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的支付订单号，与payOrderId二者传一即可  \r\n商户退款单号 | mchRefundNo | 是 | String(30) | M27210632100491 | 商户生成的退款单号  \r\n退款金额 | refundAmount | 是 | int | 100 | 退款金额,单位分   \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n退款原因 | refundReason | 是 | String(64) | 用户退货 | 退款原因  \r\n客户端IP | clientIp | 否 | String(32) | 210.73.10.148 | 客户端IPV4地址  \r\n异步通知地址 | notifyUrl | 否 | String(128) | https://www.jeequan.com/notify.htm | 退款完成后回调该URL,只有传了该值才会发起回调  \r\n渠道参数 | channelExtra | 否 | String(256 | {\"auth_code\", \"13920933111042\"} | 特定渠道发起的额外参数,json格式字符串.详见渠道参数说明  \r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳   \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式  \r\n\r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n  \"payOrderId\": \"P202106181104177050002\",\r\n  \"extParam\": \"\",\r\n  \"mchOrderNo\": \"\",\r\n  \"refundReason\": \"退款测试\",\r\n  \"sign\": \"2762CDB48D5179281DB6C0995E4EEDE0\",\r\n  \"reqTime\": \"1624007315\",\r\n  \"version\": \"1.0\",\r\n  \"channelExtra\": \"\",\r\n  \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n  \"mchRefundNo\": \"mho1624007315478\",\r\n  \"clientIp\": \"192.166.1.132\",\r\n  \"notifyUrl\": \"https://www.jeequan.com\",\r\n  \"signType\": \"MD5\",\r\n  \"currency\": \"cny\",\r\n  \"mchNo\": \"M1623984572\",\r\n  \"refundAmount\": 4\r\n}\r\n```\r\n\r\n> 返回参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n退款订单号 | refundOrderId | 是 | String(30) | R202106181708358940000 | 返回退款订单号  \r\n商户退款单号 | mchRefundNo | 是 | String(30) | mho1624007315478 | 返回商户传入的退款单号  \r\n退款状态 | state | 是 | int | 2 | 退款状态<br>0-订单生成<br>1-退款中<br>2-退款成功<br>3-退款失败<br>4-退款关闭  \r\n渠道退款单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的退款单号   \r\n渠道错误码 | errCode | 否 | String | ACQ.PAYMENT_AUTH_CODE_INVALID | 上游渠道返回的错误码\r\n渠道错误描述 | errMsg | 否 | String | Business Failed 失败 | 上游渠道返回的错误描述\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n  \"code\": 0,\r\n  \"data\": {\r\n    \"channelOrderNo\": \"2021061822001423031419593035\",\r\n    \"mchRefundNo\": \"mho1624007315478\",\r\n    \"payAmount\": 58,\r\n    \"refundAmount\": 4,\r\n    \"refundOrderId\": \"R202106181708358940000\",\r\n    \"state\": 2\r\n  },\r\n  \"msg\": \"SUCCESS\",\r\n  \"sign\": \"2843B811B7A75D56B7D1950362820875\"\r\n}\r\n```\r\n\r\n## 查询订单\r\n\r\n商户通过该接口查询退款订单，支付网关会返回订单最新的数据\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/refund/query\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号 \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n退款订单号 | refundOrderId | 是 | String(30) | R20160427210604000490 | 支付中心生成的退款单号，与mchRefundNo二者传一即可  \r\n商户退款单号 | mchRefundNo | 是 | String(30) | 20160427210604000490 | 商户生成的退款单号，与refundOrderId二者传一即可  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳  \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式 \r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n  \"refundOrderId\": \"P202106181105527690009\",\r\n  \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n  \"sign\": \"1484293FCAEAFE11DEC8949DB6B525A9\",\r\n  \"signType\": \"MD5\",\r\n  \"reqTime\": \"1624008199\",\r\n  \"mchNo\": \"M1623984572\",\r\n  \"version\": \"1.0\"\r\n}\r\n```\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n退款订单号 | refundOrderId | 是 | String(30) | R20160427210604000490 | 支付中心生成的退款单号  \r\n支付订单号 | payOrderId | 是 | String(30) | P12021022311124442600 | 返回支付系统订单号\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户退款单号 | mchRefundNo | 是 | String(30) | 20160427210604000490 | 商户生成的退款单号\r\n支付金额 | payAmount | 是 | int | 100 | 支付金额,单位分 \r\n退款金额 | refundAmount | 是 | int | 100 | 退款金额,单位分 \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n退款状态 | state | 是 | int | 2 | 退款状态<br>0-订单生成<br>1-退款中<br>2-退款成功<br>3-退款失败<br>4-退款关闭  \r\n渠道订单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的订单号  \r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 134586944573118714 | 渠道返回错误描述\r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n创建时间 | createdAt | 是 | long | 1622016572190 | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190 | 订单支付成功时间,13位时间戳  \r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n  \"code\": 0,\r\n  \"data\": {\r\n    \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n    \"channelOrderNo\": \"2021061822001423031419593035\",\r\n    \"createdAt\": 1623985552769,\r\n    \"currency\": \"cny\",\r\n    \"extParam\": \"\",\r\n    \"mchNo\": \"M1623984572\",\r\n    \"mchRefundNo\": \"mho1623985552430\",\r\n    \"payAmount\": 58,\r\n    \"payOrderId\": \"P202106181104177050002\",\r\n    \"refundAmount\": 4,\r\n    \"refundOrderId\": \"P202106181105527690009\",\r\n    \"state\": 2,\r\n    \"successTime\": 1623985554000\r\n  },\r\n  \"msg\": \"SUCCESS\",\r\n  \"sign\": \"E3F9F008FC5EF84BD782CCC7BE69DC5E\"\r\n}\r\n```\r\n\r\n## 退款通知\r\n\r\n当退款完成时(成功或失败)，支付网关会向商户系统发起回调通知。如果商户系统没有正确返回，支付网关会延迟再次通知。\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：该链接是通过统一退款接口提交的参数notifyUrl设置，如果无法访问链接，商户系统将无法接收到支付中心的通知。\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/x-www-form-urlencoded`\r\n\r\n> 通知参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n退款订单号 | refundOrderId | 是 | String(30) | R20160427210604000490 | 支付中心生成的退款单号  \r\n支付订单号 | payOrderId | 是 | String(30) | P12021022311124442600 | 返回支付系统订单号\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户退款单号 | mchRefundNo | 是 | String(30) | 20160427210604000490 | 商户生成的退款单号\r\n支付金额 | payAmount | 是 | int | 100 | 支付金额,单位分 \r\n退款金额 | refundAmount | 是 | int | 100 | 退款金额,单位分 \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n退款状态 | state | 是 | int | 2 | 退款状态<br>0-订单生成<br>1-退款中<br>2-退款成功<br>3-退款失败<br>4-退款关闭  \r\n渠道订单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的订单号  \r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 134586944573118714 | 渠道返回错误描述\r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n创建时间 | createdAt | 是 | long | 1622016572190 | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190 | 订单支付成功时间,13位时间戳  \r\n通知请求时间 | reqTime | 是 | String(30) | 1622016572190 | 通知请求时间，,13位时间戳  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n\r\n&gt; 返回结果\r\n\r\n业务系统处理后同步返回给支付中心，返回字符串 success 则表示成功，返回非success则表示处理失败，支付中心会再次通知业务系统。（通知频率为0/30/60/90/120/150,单位：秒）\r\n\r\n`注意：返回的字符串必须是小写，且前后不能有空格和换行符。`\r\n\r\n`通知示例数据`\r\n\r\n```json\r\n{\r\n    \"appId\": \"60cc09bce4b0f1c0b83761c9\",\r\n    \"channelOrderNo\": \"2021061822001423031419593035\",\r\n    \"createdAt\": 1623985552769,\r\n    \"currency\": \"cny\",\r\n    \"extParam\": \"\",\r\n    \"mchNo\": \"M1623984572\",\r\n    \"mchRefundNo\": \"mho1623985552430\",\r\n    \"payAmount\": 58,\r\n    \"payOrderId\": \"P202106181104177050002\",\r\n    \"refundAmount\": 4,\r\n    \"refundOrderId\": \"P202106181105527690009\",\r\n    \"state\": 2,\r\n    \"successTime\": 1623985554000\r\n}\r\n```"},{"title":"转账接口","content":"# 转账接口\r\n\r\n## 发起转账\r\n\r\n商户业务系统通过转账接口发起转账申请，Jeepay支付网关将根据请求数据传入到对应的上游接口。\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/transferOrder\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的转账订单号\r\n接口代码 | ifCode | 是 | String(10) | wxpay | wxpay-微信官方接口 ; alipay-支付宝官方接口\r\n入账方式 | entryType | 是 | String(20) | 20160427210604000490 | 入账方式： WX_CASH-微信零钱; ALIPAY_CASH-支付宝转账; BANK_CARD-银行卡\r\n转账金额 | amount | 是 | int | 100 | 转账金额,单位分   \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n收款账号 | accountNo | 是 | String(64) | o6BcIwvTvIqf1zXZohc61biryWik | wxpay-openID, alipay-登录账号  \r\n收款人姓名 | accountName | 否 | String(64) | 张三 | 填入则验证姓名，否则不验证\r\n收款人开户行名称 | bankName | 否 | String(64) | 中国工商银行 | 当前仅作为记录\r\n客户端IP | clientIp | 否 | String(32) | 210.73.10.148 | 客户端IPV4地址  \r\n转账备注信息 | transferDesc | 否 | String(128) | 测试转账 | 转账备注信息\r\n异步通知地址 | notifyUrl | 否 | String(128) | https://www.jeequan.com/notify.htm | 转账完成后回调该URL,只有传了该值才会发起回调\r\n渠道参数 | channelExtra | 否 | String(256 | {} | 特定渠道发起的额外参数,json格式字符串\r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳   \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式  \r\n\r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\"ifCode\":\"wxpay\",\r\n\"entryType\":\"WX_CASH\",\r\n\"amount\":1,\r\n\"accountName\":\"\",\r\n\"mchOrderNo\":\"mho1629106169045\",\r\n\"sign\":\"3EB5A3B81E92DB41677E235363E7DDE3\",\r\n\"transferDesc\":\"测试转账\",\r\n\"reqTime\":\"1629106169\",\r\n\"version\":\"1.0\",\r\n\"appId\":\"60cc3ba74ee0e6685f57eb1e\",\r\n\"accountNo\":\"a6BcIwtTvIqv1zXZohc61biryWok\",\r\n\"clientIp\":\"192.166.1.132\",\r\n\"signType\":\"MD5\",\r\n\"currency\":\"CNY\",\r\n\"mchNo\":\"M1623997351\"\r\n}\r\n```\r\n\r\n> 返回参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n转账订单号 | transferId | 是 | String(30) | T202108161731281310004 | 返回转账订单号  \r\n商户转账单号 | mchOrderNo | 是 | String(30) | mho1624007315478 | 返回商户传入的转账单号  \r\n转账状态 | state | 是 | int | 2 | 转账状态<br>0-订单生成<br>1-转账中<br>2-转账成功<br>3-转账失败<br>4-转账关闭  \r\n渠道转账单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的转账单号   \r\n渠道错误码 | errCode | 否 | String | ACQ.PAYMENT_AUTH_CODE_INVALID | 上游渠道返回的错误码\r\n渠道错误描述 | errMsg | 否 | String | Business Failed 失败 | 上游渠道返回的错误描述\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n    \"code\": 0,\r\n    \"data\": {\r\n        \"accountNo\": \"1\",\r\n        \"amount\": 11,\r\n        \"channelOrderNo\": \"20210816110070001506260000372216\",\r\n        \"mchOrderNo\": \"1629106288\",\r\n        \"state\": 2,\r\n        \"transferId\": \"T202108161731281310004\"\r\n    },\r\n    \"msg\": \"SUCCESS\",\r\n    \"sign\": \"195BF6F112386F7FC8EA2AA7EECA1D33\"\r\n}\r\n```\r\n\r\n## 查询订单\r\n\r\n商户通过该接口查询转账订单，支付网关会返回订单最新的数据\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/transfer/query\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号 \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n转账订单号 | transferId | 是 | String(30) | T20160427210604000490 | 支付中心生成的转账单号，与mchOrderNo二者传一即可  \r\n商户转账单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的转账单号，与transferId二者传一即可  \r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳  \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式 \r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n\"appId\":\"60cc3ba74ee0e6685f57eb1e\",\r\n\"sign\":\"D3C0CC231F3FC3D033650699BA099B39\",\r\n\"signType\":\"MD5\",\r\n\"reqTime\":\"1629106457\",\r\n\"transferId\":\"T202108121543441860003\",\r\n\"mchNo\":\"M1623997351\",\r\n\"version\":\"1.0\"\r\n}\r\n```\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的转账订单号\r\n转账订单号 | transferId | 是 | String(30) | T20160427210604000490 | 支付中心生成的转账单号\r\n转账金额 | amount | 是 | int | 100 | 转账金额,单位分   \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n接口代码 | ifCode | 是 | String(10) | wxpay | wxpay-微信官方接口 ; alipay-支付宝官方接口\r\n入账方式 | entryType | 是 | String(20) | 20160427210604000490 | 入账方式： WX_CASH-微信零钱; ALIPAY_CASH-支付宝转账; BANK_CARD-银行卡\r\n转账状态 | state | 是 | int | 2 | 转账状态<br>0-订单生成<br>1-转账中<br>2-转账成功<br>3-转账失败<br>4-转账关闭 \r\n收款账号 | accountNo | 是 | String(64) | o6BcIwvTvIqf1zXZohc61biryWik | wxpay-openID, alipay-登录账号  \r\n收款人姓名 | accountName | 否 | String(64) | 张三 | 填入则验证姓名，否则不验证\r\n收款人开户行名称 | bankName | 否 | String(64) | 中国工商银行 | 当前仅作为记录\r\n转账备注信息 | transferDesc | 否 | String(128) | 测试转账 | 转账备注信息\r\n渠道转账单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的转账单号 \r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 134586944573118714 | 渠道返回错误描述\r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n创建时间 | createdAt | 是 | long | 1622016572190 | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190 | 转账成功时间,13位时间戳  \r\n\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n    \"code\": 0,\r\n    \"data\": {\r\n        \"accountNo\": \"o6BcIwvTvIqf1zXZohc61biryWik\",\r\n        \"amount\": 1,\r\n        \"appId\": \"6113805e42020495c62bd4cb\",\r\n        \"createdAt\": 1628818820011,\r\n        \"currency\": \"CNY\",\r\n        \"entryType\": \"WX_CASH\",\r\n        \"errCode\": \"OPENID_ERROR\",\r\n        \"errMsg\": \"openid与商户appid不匹配【openid与商户appid不匹配】\",\r\n        \"ifCode\": \"wxpay\",\r\n        \"mchNo\": \"M1623997351\",\r\n        \"mchOrderNo\": \"1628818820\",\r\n        \"state\": 3,\r\n        \"transferDesc\": \"测试\",\r\n        \"transferId\": \"T202108130940200100001\"\r\n    },\r\n    \"msg\": \"SUCCESS\",\r\n    \"sign\": \"A262DBD3D6182E8A0AEC90EF820F2A5A\"\r\n}\r\n```\r\n\r\n## 转账通知\r\n\r\n当转账完成时(成功或失败)，支付网关会向商户系统发起回调通知。如果商户系统没有正确返回，支付网关会延迟再次通知。\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：该链接是通过转账申请接口提交的参数notifyUrl设置，如果无法访问链接，商户系统将无法接收到支付中心的通知。\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/x-www-form-urlencoded`\r\n\r\n> 通知参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n商户订单号 | mchOrderNo | 是 | String(30) | 20160427210604000490 | 商户生成的转账订单号\r\n转账订单号 | transferId | 是 | String(30) | T20160427210604000490 | 支付中心生成的转账单号\r\n转账金额 | amount | 是 | int | 100 | 转账金额,单位分   \r\n货币代码 | currency | 是 | String(3) | cny | 三位货币代码,人民币:cny\r\n接口代码 | ifCode | 是 | String(10) | wxpay | wxpay-微信官方接口 ; alipay-支付宝官方接口\r\n入账方式 | entryType | 是 | String(20) | 20160427210604000490 | 入账方式： WX_CASH-微信零钱; ALIPAY_CASH-支付宝转账; BANK_CARD-银行卡\r\n转账状态 | state | 是 | int | 2 | 转账状态<br>0-订单生成<br>1-转账中<br>2-转账成功<br>3-转账失败<br>4-转账关闭 \r\n收款账号 | accountNo | 是 | String(64) | o6BcIwvTvIqf1zXZohc61biryWik | wxpay-openID, alipay-登录账号  \r\n收款人姓名 | accountName | 否 | String(64) | 张三 | 填入则验证姓名，否则不验证\r\n收款人开户行名称 | bankName | 否 | String(64) | 中国工商银行 | 当前仅作为记录\r\n转账备注信息 | transferDesc | 否 | String(128) | 测试转账 | 转账备注信息\r\n渠道转账单号 | channelOrderNo | 否 | String | 20160427210604000490 | 对应渠道的转账单号 \r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道返回错误码\r\n渠道错误描述 | errMsg | 否 | String | 134586944573118714 | 渠道返回错误描述\r\n扩展参数 | extraParam | 否 | String(512) | 134586944573118714 | 商户扩展参数,回调时会原样返回  \r\n创建时间 | createdAt | 是 | long | 1622016572190 | 订单创建时间,13位时间戳  \r\n成功时间 | successTime | 否 | long | 1622016572190 | 转账成功时间,13位时间戳  \r\n\r\n&gt; 返回结果\r\n\r\n业务系统处理后同步返回给支付中心，返回字符串 success 则表示成功，返回非success则表示处理失败，支付中心会再次通知业务系统。（通知频率为0/30/60/90/120/150,单位：秒）\r\n\r\n`注意：返回的字符串必须是小写，且前后不能有空格和换行符。`\r\n\r\n`通知示例数据`\r\n\r\n```json\r\n {\r\n        \"accountNo\": \"o6BcIwvTvIqf1zXZohc61biryWik\",\r\n        \"amount\": 1,\r\n        \"appId\": \"6113805e42020495c62bd4cb\",\r\n        \"createdAt\": 1628818820011,\r\n        \"currency\": \"CNY\",\r\n        \"entryType\": \"WX_CASH\",\r\n        \"errCode\": \"OPENID_ERROR\",\r\n        \"errMsg\": \"openid与商户appid不匹配【openid与商户appid不匹配】\",\r\n        \"ifCode\": \"wxpay\",\r\n        \"mchNo\": \"M1623997351\",\r\n        \"mchOrderNo\": \"1628818820\",\r\n        \"state\": 3,\r\n        \"transferDesc\": \"测试\",\r\n        \"transferId\": \"T202108130940200100001\"\r\n    }\r\n```"},{"title":"分账接口","content":"# 分账接口\r\n\r\n## 分账业务\r\n\r\n> 业务介绍：商户分账主要用于商户将交易成功的资金，按照一定的周期，分账给其他方，可以是合作伙伴、员工、用户或者其他分润方。\r\n\r\n参考微信文档： \r\n![](/uploads/jeepay/images/m_59fa8b27a5c30a556210fc3d3bd1ad14_r.png)\r\n\r\n\r\n微信分账：https://pay.weixin.qq.com/wiki/doc/api/allocation.php?chapter=26_1\r\n支付宝分账： https://opendocs.alipay.com/open/20190308105425129272/intro\r\n\r\n\r\n接口目录： \r\n\r\n## 绑定分账用户\r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/division/receiver/bind\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号   \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n接口代码 | ifCode | 是 | String(10) | wxpay | wxpay-微信官方接口 ; alipay-支付宝官方接口\r\n接收者账号别名 | receiverAlias | 是 | String(64) | 张三 | 接收者账号别名\r\n组ID | receiverGroupId | 是 | long | 10001 | 需先登录商户系统查找待加入的组ID\r\n分账接收账号类型 | accType | 是 | int | 1 | 分账接收账号类型: 0-个人(对私) 1-商户(对公)\r\n分账接收账号 | accNo | 是 | String(10) | 1231312@qq.com | 分账接收账号, 微信个人是openid, 支付宝可以是userId或登录名\r\n分账接收账号名称 | accName | 否 | String(30) | 张三 | 微信选填（当填入则验证），支付宝账号必填\r\n分账关系类型 | relationType | 是 | String(30) | wxpay | 分账关系类型：<br/>SERVICE_PROVIDER：服务商 <br/>STORE：门店<br/>STAFF：员工<br/>STORE_OWNER：店主<br/>PARTNER：合作伙伴<br/>HEADQUARTER：总部<br/>BRAND：品牌方<br/>DISTRIBUTOR：分销商<br/>USER：用户<br/>SUPPLIER：供应商<br/>CUSTOM：自定义\r\n分账关系类型名称 | relationTypeName | 否 | String(30) | wxpay | 当relationType=CUSTOM 必填\r\n渠道特殊信息 | channelExtInfo | 否 | String(256) | wxpay | 渠道特殊信息\r\n默认分账比例 | divisionProfit | 是 | String(10) | wxpay | 若分账30% 则填入 0.3\r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳   \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式  \r\n\r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n 'version': '1.0',\r\n'reqTime': '1622016572190',\r\n'signType': 'MD5',\r\n'sign': 'MD5MD5MD5MD5MD5MD5MD5MD5MD5MD5MD5MD5',\r\n'mchNo': 'M1623997000',\r\n'appId': '60cc3ba74ee0e6685f57e000',\r\n'ifCode': 'wxpay',\r\n'receiverAlias': '我的第一个账号',\r\n'receiverGroupId': '100001',\r\n'accType': '0',\r\n'accNo': 'sfsfsd@qq.com',\r\n'accName': '张三',\r\n'relationType': 'OTHERS',\r\n'relationTypeName': '我的员工',\r\n'divisionProfit': '0.3' \r\n}\r\n```\r\n\r\n> 返回参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n绑定账号ID | receiverId | 是 | long | 10001 | 绑定账号ID, 订单分账将使用该ID\r\n接收者账号别名 | receiverAlias | 是 | String(64) | 张三 | 接收者账号别名\r\n组ID | receiverGroupId | 是 | long | 10001 | 组ID\r\n分账接收账号类型 | accType | 是 | int | 1 | 分账接收账号类型: 0-个人(对私) 1-商户(对公)\r\n分账接收账号 | accNo | 是 | String(10) | 1231312@qq.com | 分账接收账号\r\n分账接收账号名称 | accName | 否 | String(30) | 张三 | 分账接收账号名称\r\n分账关系类型 | relationType | 是 | String(30) | wxpay | 分账关系类型\r\n渠道特殊信息 | channelExtInfo | 否 | String(256) | wxpay | 渠道特殊信息\r\n默认分账比例 | divisionProfit | 是 | String(10) | wxpay | 默认分账比例\r\n绑定成功时间 | bindSuccessTime | 是 | Long | 1622016572190 | 绑定成功时间\r\n绑定状态 | bindState | 是 | int | 1 | 绑定状态 1-绑定成功, 0-绑定异常 \r\n渠道错误码 | errCode | 否 | String | ACQ.PAYMENT_AUTH_CODE_INVALID | 上游渠道返回的错误码\r\n渠道错误描述 | errMsg | 否 | String | Business Failed 失败 | 上游渠道返回的错误描述\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n    \"code\": 0,\r\n    \"data\": {\r\n        \"accName\": \"张三\",\r\n        \"accNo\": \"sfsfsd@qq.com\",\r\n        \"accType\": 0,\r\n        \"appId\": \"60cc3ba74ee0e6685f57eb1e\",\r\n        \"bindState\": 0,\r\n        \"divisionProfit\": 0.3,\r\n        \"errCode\": \"NOAUTH\",\r\n        \"errMsg\": \"无分账权限\",\r\n        \"ifCode\": \"wxpay\",\r\n        \"mchNo\": \"M1623997351\",\r\n        \"receiverAlias\": \"我的第一个账号\",\r\n        \"receiverGroupId\": 100001,\r\n        \"relationType\": \"OTHERS\",\r\n        \"relationTypeName\": \"我的员工\"\r\n    },\r\n    \"msg\": \"SUCCESS\",\r\n    \"sign\": \"552CB91FA1E1DB378A534B377E4E9403\"\r\n}\r\n```\r\n\r\n## 发起订单分账\r\n\r\n当订单下单时传入的分账模式  divisionMode = 2商户手动分账(解冻商户金额)，支持商户手动发起订单分账。<br>注意：需要在订单支付完成后（建议1分钟后）调用分账接口。 \r\n\r\n> 接口说明\r\n\r\n适用对象：`普通商户` `特约商户`\r\n\r\n请求URL：https://pay.jeepay.vip/api/division/exec\r\n\r\n请求方式：`POST`\r\n\r\n请求类型：`application/json` 或 `application/x-www-form-urlencoded`\r\n\r\n> 请求参数\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n商户号 | mchNo | 是 | String(30) | M1621873433953 | 商户号 \r\n应用ID | appId | 是 | String(24) | 60cc09bce4b0f1c0b83761c9 | 应用ID\r\n支付订单号 | payOrderId | 否 | String(30) | P20160427210604000490 | 支付中心生成的支付订单号，与mchOrderNo二者传一即可  \r\n商户单号 | mchOrderNo | 否 | String(30) | 20160427210604000490 | 商户生成的支付单号，与payOrderId二者传一即可  \r\n是否使用系统配置的自动分账组 | useSysAutoDivisionReceivers | 是 | int | 1 | 是否使用系统配置的自动分账组： 0-否 1-是\r\n分账接收者账号列表 | receivers | 否 | String(512) | [] |  接收者账号列表（JSONArray 转换为字符串类型）<br/>仅当useSysAutoDivisionReceivers=0 时该字段值有效。<br/>参考：<br/>方式1： 按账号纬度<br/>[{<br/>receiverId: 800001,<br/>divisionProfit: 0.1 (若不填入则使用系统默认配置值)<br/>}]<br/>方式2： 按组纬度<br/>[{<br/>receiverGroupId: 100001, (该组所有 当前订单的渠道账号并且可用状态的全部参与分账)<br/>divisionProfit: 0.1 (每个账号的分账比例， 若不填入则使用系统默认配置值， 建议不填写)<br/>}]\r\n请求时间 | reqTime | 是 | long | 1622016572190 | 请求接口时间,13位时间戳  \r\n接口版本 | version | 是 | String(3) | 1.0 | 接口版本号，固定：1.0  \r\n签名 | sign | 是 | String(32) | C380BEC2BFD727A4B6845133519F3AD6 | 签名值，详见签名算法  \r\n签名类型 | signType | 是 | String(32) | MD5 | 签名类型，目前只支持MD5方式 \r\n\r\n`请求示例数据`\r\n\r\n```json\r\n{\r\n 'version': '1.0',\r\n'reqTime': '1622016572190',\r\n'signType': 'MD5',\r\n'sign': '1',\r\n'mchNo': 'M1623997351',\r\n'appId': '60cc3ba74ee0e6685f57eb1e',\r\n'payOrderId': 'P202108271011463510002',\r\n'useSysAutoDivisionReceivers': '0',\r\n'receivers': '[{\"receiverGroupId\":\"\",\"receiverId\":\"800029\",\"divisionProfit\":\"0.0001\"},{\"receiverGroupId\":\"\",\"receiverId\":\"800028\",\"divisionProfit\":\"0.0002\"}]' \r\n}\r\n```\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n返回状态 | code | 是 | int | 0 | 0-处理成功，其他-处理有误，详见错误码  \r\n返回信息 | msg | 否 | String(128) | 签名失败 | 具体错误原因，例如：签名失败、参数格式校验错误  \r\n签名信息 | sign | 否 | String(32) | CCD9083A6DAD9A2DA9F668C3D4517A84 | 对data内数据签名,如data为空则不返回\r\n返回数据 | data | 否 | String(512) | {} | 返回下单数据,json格式数据  \r\n\r\n`data数据格式`\r\n\r\n字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述\r\n------- | -------| -------| -------| -------| -------\r\n分账状态 | state | 是 | int | 2 | 分账状态 1-分账成功, 2-分账失败\r\n上游分账批次号 | channelBatchOrderId | 否 | String(30) | T20160427210604000490 | 上游分账批次号\r\n渠道错误码 | errCode | 否 | String | 1002 | 渠道返回错误码\r\n渠道错误描述 | errMsg | 否 | String | ERROR | 渠道返回错误描述\r\n\r\n\r\n`返回示例数据`\r\n\r\n```json\r\n{\r\n    \"code\": 0,\r\n    \"data\": {\r\n        \"errCode\": \"unknown-sub-code\",\r\n        \"errMsg\": \"Business Failed【未知的错误码ACQ.ROYALTY_ACCOUNT_NOT_EXIST】\",\r\n        \"state\": 2\r\n    },\r\n    \"msg\": \"SUCCESS\",\r\n    \"sign\": \"56836E18015DD7E4FAFE45380C0AD098\"\r\n}\r\n```"}]}]}}